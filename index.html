<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Player Stat Board</title>

  <style>
    body {
      background:#0b0b12;
      color:#eaeaf0;
      font-family: system-ui;
      padding:20px;
    }

    .card {
      max-width:420px;
      margin:auto;
      background:#151522;
      border-radius:16px;
      padding:16px;
      border:1px solid #2a2a3a;
    }

    h1 { margin:0 0 12px 0; letter-spacing:1px; }

    .row { margin:12px 0 6px; }
    .label { margin-bottom: 6px; font-weight: 700; }

    input[type="range"] { width: 100%; margin: 6px 0 10px; }

    .bar {
      height:10px;
      background:#2a2a3a;
      border-radius:999px;
      overflow:hidden;
      margin-bottom:12px;
    }

    .fill {
      height:100%;
      background:#ff3b3b;
      width: 0%;
      transition: width 0.15s ease;
    }

    /* XP */
    .xp-section { margin-top: 16px; }
    .level-text { font-weight: 800; margin-bottom: 6px; }

    .xp-bar {
      width: 100%;
      height: 14px;
      background: #2a2a2a;
      border-radius: 8px;
      overflow: hidden;
      margin: 6px 0;
    }

    .xp-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #00ffcc, #00aa88);
      transition: width 0.3s ease;
    }

    .xp-numbers {
      font-size: 14px;
      opacity: 0.9;
      margin-bottom: 10px;
    }

    .btn-row { display:flex; gap:10px; }

    button {
      background:#23233a;
      color:#eaeaf0;
      border:1px solid #2a2a3a;
      padding:10px 12px;
      border-radius:10px;
      font-weight:800;
      cursor:pointer;
      flex: 1;
    }

    button:active { transform: scale(0.99); }
  </style>
</head>

<body>
  <div class="card">
    <h1>PLAYER HUD</h1>

    <div class="row">
      <div class="label">Strength: <span id="strengthVal">55</span>/100</div>
      <input type="range" id="strength" min="0" max="100" value="55" />
      <div class="bar"><div class="fill" id="strengthFill"></div></div>
    </div>

    <div class="row">
      <div class="label">Stress: <span id="stressVal">88</span>/100</div>
      <input type="range" id="stress" min="0" max="100" value="88" />
      <div class="bar"><div class="fill" id="stressFill"></div></div>
    </div>

    <div class="row">
      <div class="label">Hydration: <span id="hydrationVal">20</span>/100</div>
      <input type="range" id="hydration" min="0" max="100" value="20" />
      <div class="bar"><div class="fill" id="hydrationFill"></div></div>
    </div>

    <div class="xp-section">
      <div class="level-text">LEVEL <span id="level">1</span></div>

      <div class="xp-bar">
        <div class="xp-fill" id="xpFill"></div>
      </div>

      <div class="xp-numbers">
        <span id="xp">0</span> / <span id="xpMax">100</span> XP
      </div>

      <div class="btn-row">
        <button onclick="gainXP(10)">+10 XP</button>
        <button onclick="resetAll()">Reset</button>
      </div>
    </div>
  </div>

  <script>
    const STORAGE_KEY = "playerStatBoard_v1";

    // Default state (only used if no save exists)
    let state = {
      level: 1,
      xp: 0,
      xpMax: 100,
      stats: {
        strength: 55,
        stress: 88,
        hydration: 20
      }
    };

    function saveState() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
    }

    function loadState() {
      const saved = localStorage.getItem(STORAGE_KEY);
      if (saved) {
        try {
          state = JSON.parse(saved);
        } catch (e) {
          localStorage.removeItem(STORAGE_KEY);
        }
      }
    }

    function clamp(n, min, max) {
      return Math.min(Math.max(n, min), max);
    }

    function setStat(statName, value) {
      state.stats[statName] = clamp(Number(value), 0, 100);
      render();
      saveState();
    }

    function gainXP(amount) {
      state.xp += amount;

      while (state.xp >= state.xpMax) {
        state.xp -= state.xpMax;
        state.level++;
        state.xpMax = Math.floor(state.xpMax * 1.25);
      }

      render();
      saveState();
    }

    function resetAll() {
      localStorage.removeItem(STORAGE_KEY);
      state = {
        level: 1,
        xp: 0,
        xpMax: 100,
        stats: { strength: 55, stress: 88, hydration: 20 }
      };
      render();
      saveState();
    }

    function renderBars() {
      const { strength, stress, hydration } = state.stats;

      document.getElementById("strengthVal").innerText = strength;
      document.getElementById("stressVal").innerText = stress;
      document.getElementById("hydrationVal").innerText = hydration;

      document.getElementById("strength").value = strength;
      document.getElementById("stress").value = stress;
      document.getElementById("hydration").value = hydration;

      document.getElementById("strengthFill").style.width = strength + "%";
      document.getElementById("stressFill").style.width = stress + "%";
      document.getElementById("hydrationFill").style.width = hydration + "%";
    }

    function renderXP() {
      document.getElementById("level").innerText = state.level;
      document.getElementById("xp").innerText = state.xp;
      document.getElementById("xpMax").innerText = state.xpMax;

      const pct = (state.xp / state.xpMax) * 100;
      document.getElementById("xpFill").style.width = pct + "%";
    }

    function render() {
      renderBars();
      renderXP();
    }

    function wireEvents() {
      document.getElementById("strength").addEventListener("input", (e) => setStat("strength", e.target.value));
      document.getElementById("stress").addEventListener("input", (e) => setStat("stress", e.target.value));
      document.getElementById("hydration").addEventListener("input", (e) => setStat("hydration", e.target.value));
    }

    // Boot
    loadState();
    window.addEventListener("DOMContentLoaded", () => {
      wireEvents();
      render();
      saveState();
    });
  </script>
</body>
</html>

